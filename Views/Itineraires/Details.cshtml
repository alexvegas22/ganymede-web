@model ganymede_web.Models.Itineraire

@{
    ViewData["Title"] = "Détails";
}
<div class="">
<h1>Itineraire</h1>

<div>
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Horaire)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Horaire.Id)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.StartLocation)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.StartLocation)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.EndLocation)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.EndLocation)
        </dd>
            <a id="liengoog" href="https://www.google.com/maps/dir/?api=1">
                Montrer l'itinéraire vers la location.
            </a>
            
    </dl>
</div>

    
       <div id="LinkGoogle" style="display:none;">
        @Html.DisplayFor(model => model.StartLocation)
        </div>
    <div id="LinkGoogleDestination" style="display:none;">
        @Html.DisplayFor(model => model.EndLocation)
    </div>
    
<script>
    console.log(`Hi`)
    document.addEventListener("DOMContentLoaded", () => {
        console.log("Hello World!");
        var googleLink = document.getElementById("LinkGoogle")
        var googleLinkDest = document.getElementById("LinkGoogleDestination")
        console.log(googleLink.innerHTML)
        console.log(googleLink.outerHTML)
        var startLocation = googleLink.innerHTML.trim()
        var endLocation = googleLinkDest.innerHTML.trim()
        var liengoog = document.getElementById("liengoog")
        console.log(liengoog.href + "&origin=" + startLocation)
        liengoog.href = liengoog.href + "&origin=" + startLocation + "&destination=" + endLocation
    });

</script>